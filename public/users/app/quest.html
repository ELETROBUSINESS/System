<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missões | ELETRO</title>
    <link rel="icon" href="/assets/img/iconWeb.png">

    <link rel="stylesheet" href="/assets/css/main.css">

    <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.6.0/uicons-solid-straight/css/uicons-solid-straight.css'>
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.6.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        /* CSS para evitar piscar tela enquanto autentica */
        body.loading-auth .info,
        body.loading-auth .dashboard,
        body.loading-auth .navigation {
            opacity: 0;
            pointer-events: none;
        }

        /* Estilo do Skeleton Loading */
        .skeleton {
            color: transparent;
            background: #ccc;
            border-radius: 4px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.6;
            }
        }
    </style>
</head>

<body class="painel-adm1 loading-auth">

    <main class="main-content">
        <div class="info">
            <div class="photo-profile">
                <img id="user-photo" src="https://placehold.co/150/db0038/FFFFFF?text=..." alt="Perfil">
                <div class="detals">
                    <h1 id="user-greeting">Olá!</h1>
                    <p id="user-role">Carregando...</p>
                </div>
            </div>
            <div class="balance">
                <div class="pending">
                    <p>Pontos</p>
                    <span id="user-points" class="skeleton">0,00</span>
                </div>
            </div>
        </div>
    </main>

    <div class="dashboard">
        <p><i class='bx bx-radar'></i> Missões disponíveis</p>

        <div class="containerCard">
            <div class="card-optionSize">
                <i class="fi fi-rr-money-bill-transfer"></i>
                <div>
                    <h1>Meta de vendas</h1>
                    <span id="meta-vendas-display" class="skeleton">Carregando meta...</span>
                </div>
                <span class="l2">1.00 pts</span>
            </div>
        </div>

        <div class="containerCard">
            <div class="card-optionSize">
                <i class="fi fi-rr-messages-question"></i>
                <div>
                    <h1>Avaliação</h1>
                    <span>Responda perguntas rápidas para ganhar pontos!</span>
                    <a class="add_btn" href="#">Responder</a>
                </div>
                <span class="l2">2.25 pts</span>
            </div>
        </div>
    </div>

    <div class="navigation">
        <ul>
            <li class="list">
                <a href="conta.html">
                    <span class="icon"><i class='bx bx-home'></i></span>
                    <span class="text">Home</span>
                </a>
            </li>
            <li class="list active">
                <a href="quest.html">
                    <span class="icon"><i class='bx bxs-radar'></i></span>
                    <span class="text">Missões</span>
                </a>
            </li>
            <li class="list">
                <a href="pdv.html">
                    <span class="icon"><i class='bxr bx-plus-circle'></i></span>
                    <span class="text">Venda</span>
                </a>
            </li>
            <li class="list">
                <a href="extrato.html">
                    <span class="icon"><i class='bx bx-copy-alt'></i></span>
                    <span class="text">Extrato</span>
                </a>
            </li>
            <li class="list">
                <a href="#" id="logout-btn">
                    <span class="icon"><i class='bx bx-log-out'></i></span>
                    <span class="text">Sair</span>
                </a>
            </li>
            <div class="indicator color11"></div>
        </ul>
    </div>

    <script src="js/app-core.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Simulação de carregamento da meta (substituir por chamada real ao DB depois)
            setTimeout(() => {
                const el = document.getElementById('meta-vendas-display');
                if (el) {
                    // Aqui você conectará com seu backend real futuramente
                    el.innerText = "Faltam R$ 500,00";
                    el.classList.remove('skeleton');
                }
            }, 1000);
        });
    </script>
</body>

</html>